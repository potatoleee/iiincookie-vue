import{c as b}from"./cartStore-df922902.js";import{l as C}from"./loadingStore-cfb944cc.js";import{m as w,a as f}from"./pinia-a2ec2acd.js";import{T as g}from"./toast-ba4829f6.js";import{aN as h,aD as i,X as n,a4 as c,bk as u,Y as t,W as L,F as y,aL as V,a3 as l,a_ as a,bm as x,bd as v,a2 as T,as as N}from"./@vue-9b9f1f8d.js";import{_ as j}from"./index-59df0711.js";import"./axios-bff3f665.js";import"./vue-demi-71ba0ef2.js";import"./sweetalert2-761b07dd.js";import"./@ckeditor-34cd5b3f.js";import"./vue-d45f05e8.js";import"./vue-router-feb1a2d6.js";import"./vue-axios-58a7c26f.js";import"./vue-loading-overlay-89c4fdf0.js";import"./vee-validate-aa5cd44a.js";import"./@vee-validate-533577de.js";/* empty css                        */import"./gsap-8fc7659c.js";const{VITE_APP_URL:P,VITE_APP_PATH:S}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"week3dean",BASE_URL:"/iiincookie-vue/",MODE:"production",DEV:!1,PROD:!0},$={data(){return{productListData:[],productId:"",loadingItem:"",couponCode:"iiincookienew"}},methods:{...w(b,["getCartList","deleteCartItem","updateCartItem","deleteAllCartItem","addNum","decreaseNum"]),useCoupon(){const e={code:this.couponCode};this.$http.post(`${P}/api/${S}/coupon`,{data:e}).then(o=>{console.log(o),g.fire({icon:"success",title:`${o.data.message}`}),this.getCartList()}).catch(o=>{g.fire({icon:"error",title:`${o.response.data.message}`})})}},computed:{...f(b,["cartList","totalQty"]),...f(C,["isLoading"])},mounted(){this.getCartList(),console.log(this.isLoading)}},A=t("div",{class:"title py-15"},[t("span",{class:"title-sub fs-10xl fw-light font-english text-secondary text-opacity-50 d-block text-end"},"Shopping Cart "),t("h1",{class:"title-main font-serifTc fw-black fs-xl fs-lg-3xl"},"購物車")],-1),E={key:0,class:"container d-flex flex-column align-items-center gap-6 mt-12"},U=t("p",{class:"text-center fs-lg-xl"},"目前購物車是空的喔！",-1),D={key:1},R=T('<div class="container"><ul class="d-flex justify-content-center align-items-center gap-7"><li class="text-center text-primary"><p class="fs-xs fs-lg-sm">Step.1</p><p class="fs-xs fs-lg-sm">購買項目</p></li><i class="bi bi-chevron-right"></i><li class="text-center"><p class="fs-xs fs-lg-sm">Step.2</p><p class="fs-xs fs-lg-sm">填寫資料</p></li><i class="bi bi-chevron-right"></i><li class="text-center"><p class="fs-xs fs-lg-sm">Step.3</p><p class="fs-xs fs-lg-sm">確認付款</p></li><i class="bi bi-chevron-right"></i><li class="text-center"><p class="fs-xs fs-lg-sm">Step.4</p><p class="fs-xs fs-lg-sm">訂單完成</p></li></ul></div>',1),q={class:"container"},B={class:"row my-13"},Q={class:"col-lg-7 mb-8 mb-lg-0"},F={class:"p-lg-7 rounded-2 shadow-lg-lg"},H={class:"d-flex justify-content-between mb-5"},M=t("i",{class:"bi bi-chevron-left fs-xl"},null,-1),O={class:"d-flex justify-content-between align-items-center pb-4 border-bottom border-dark border-opacity-10"},z=t("p",{class:"fs-lg"},"購物車品項",-1),I={class:"d-flex py-7 gap-3 border-bottom border-dark border-opacity-10"},W=["src"],X={class:"w-100 d-flex flex-column justify-content-between"},Y={class:"d-flex justify-content-between align-items-start"},G=["onClick","disabled"],J={class:"d-flex justify-content-between align-items-end"},K={class:"font-arimo"},Z={class:"count d-flex justify-content-between border border-dark border-opacity-40"},tt=["onClick"],st=t("i",{class:"bi bi-dash-lg"},null,-1),et=[st],ot=["onUpdate:modelValue"],it=["onClick"],nt=t("i",{class:"bi bi-plus-lg"},null,-1),lt=[nt],at={class:"col-lg-5"},dt={class:"p-lg-7 rounded-2 shadow-lg-lg"},ct=t("p",{class:"fs-lg pb-4 border-bottom border-dark border-opacity-10 mb-4"}," 訂單資訊 ",-1),rt={class:"pb-6 border-bottom border-dark border-opacity-10 mb-4"},pt={class:"mb-4 d-flex justify-content-between"},ut=t("p",null,"總數量",-1),_t={class:"font-arimo"},mt={class:"mb-4 d-flex justify-content-between"},bt=t("p",null,"小計",-1),ft={class:"font-arimo"},gt={class:"d-flex justify-content-between"},ht={class:"d-flex justify-content-between mb-6"},yt=t("p",null,"總計",-1),xt={class:"font-arimo"};function vt(e,o,kt,Ct,r,_){var m;const p=h("RouterLink"),k=h("VueLoading");return i(),n(y,null,[A,e.totalQty===0?(i(),n("div",E,[U,c(p,{to:"/products",class:"btn btn-secondary-darker text-light fs-lg-xl py-5"},{default:u(()=>[l("來去逛逛吧！")]),_:1})])):(i(),n("div",D,[R,t("div",q,[c(k,{active:e.isLoading,"onUpdate:active":o[0]||(o[0]=s=>e.isLoading=s)},null,8,["active"]),t("div",B,[t("div",Q,[t("div",F,[t("div",H,[c(p,{to:"/products",class:"d-flex align-items-center gap-2 gap-lg-6"},{default:u(()=>[M,l("還有想要購買的商品嗎？")]),_:1})]),t("div",O,[z,((m=e.cartList.carts)==null?void 0:m.length)>0?(i(),n("button",{key:0,class:"btn border border-dark border-opacity-40 py-2 px-8 rounded-pill fs-sm",type:"button",onClick:o[1]||(o[1]=s=>e.deleteAllCartItem())}," 清空購物車 ")):L("",!0)]),t("ul",null,[(i(!0),n(y,null,V(e.cartList.carts,s=>(i(),n("li",{key:s.id},[t("div",I,[t("img",{class:"w-20n",src:s.product.imageUrl,alt:""},null,8,W),t("div",X,[t("div",Y,[t("p",null,a(s.product.title),1),t("i",{class:"bi bi-x-lg",onClick:d=>e.deleteCartItem(s),disabled:s.id===r.loadingItem},null,8,G)]),t("div",J,[t("p",K,"NT$ "+a(s.product.price),1),t("div",Z,[t("button",{onClick:d=>e.decreaseNum(s),class:N(["btn rounded-0",{disabled:s.qty==1,"border-0":s.qty===1}])},et,10,tt),x(t("input",{class:"text-center bg-secondary-light border-0 w-8n w-lg-12n",type:"number","onUpdate:modelValue":d=>s.qty=d,readonly:""},null,8,ot),[[v,s.qty]]),t("button",{class:"btn rounded-0",onClick:d=>e.addNum(s)},lt,8,it)])])])])]))),128))])])]),t("div",at,[t("div",dt,[ct,t("div",rt,[t("div",pt,[ut,t("p",null,[l(" 共 "),t("span",_t,a(e.totalQty),1),l(" 個 ")])]),t("div",mt,[bt,t("p",ft,"NT$ "+a(e.cartList.total),1)]),t("div",gt,[x(t("input",{type:"text",class:"form-control rounded-0 border-secondary w-70","onUpdate:modelValue":o[2]||(o[2]=s=>r.couponCode=s),placeholder:"請輸入優惠碼"},null,512),[[v,r.couponCode]]),t("button",{type:"button",class:"btn btn-primary w-30 rounded-0 text-light fs-sm border-0",onClick:o[3]||(o[3]=(...s)=>_.useCoupon&&_.useCoupon(...s))}," 使用優惠券 ")])]),t("div",ht,[yt,t("p",xt,"NT$ "+a(e.cartList.final_total),1)]),c(p,{to:"/order",class:"btn btn-primary text-light w-100"},{default:u(()=>[l("去買單")]),_:1})])])])])]))],64)}const Ht=j($,[["render",vt]]);export{Ht as default};
