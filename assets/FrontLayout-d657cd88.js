import{M as v}from"./bootstrap-1e9f360c.js";import{_ as A}from"./index-59df0711.js";import{aD as i,X as n,Y as e,a_ as f,aN as p,a4 as a,as as g,W as m,bk as r,F as b,aL as w,bm as B,bd as D}from"./@vue-9b9f1f8d.js";import{a as j}from"./gsap-8fc7659c.js";import{c as x}from"./cartStore-df922902.js";import{f as C}from"./favoriteStore-61913d83.js";import{m as M,a as k}from"./pinia-a2ec2acd.js";import{T as _}from"./toast-ba4829f6.js";import{_ as N}from"./logo-ec0194c9.js";import"./@popperjs-9847b28c.js";import"./vue-router-feb1a2d6.js";import"./axios-bff3f665.js";import"./vue-axios-58a7c26f.js";import"./vue-loading-overlay-89c4fdf0.js";import"./@ckeditor-34cd5b3f.js";import"./vue-d45f05e8.js";import"./vee-validate-aa5cd44a.js";import"./@vee-validate-533577de.js";/* empty css                        */import"./vue-demi-71ba0ef2.js";import"./loadingStore-cfb944cc.js";import"./sweetalert2-761b07dd.js";const S={props:{message:String},data(){return{deleteAllModal:""}},methods:{deleteConfirm(){this.$emit("deleteConfirm")},show(){this.deleteAllModal.show()},hide(){this.deleteAllModal.hide()}},mounted(){this.deleteAllModal=new v(this.$refs.deleteAllModal)}},P={id:"deleteAllModal",class:"modal fade",tabindex:"-1","aria-labelledby":"deleteAllModalLabel","aria-hidden":"true",ref:"deleteAllModal"},V={class:"modal-dialog modal-dialog-centered"},O={class:"modal-content border-0 bg-secondary py-5"},E=e("div",{class:"modal-header justify-content-center border-0 pb-0"},[e("h5",{id:"deleteAllModalLabel",class:"modal-title"},[e("span",null,"刪除全部")])],-1),R={class:"modal-body text-center mb-7"},U={class:"border-0 d-flex flex-column flex-lg-row p-5 gap-6"},Q=e("button",{type:"button",class:"btn btn-outline-dark w-lg-50","data-bs-dismiss":"modal"}," 不要刪除 ",-1);function q(l,o,y,F,c,s){return i(),n("div",P,[e("div",V,[e("div",O,[E,e("div",R,f(y.message),1),e("div",U,[e("button",{type:"button",class:"btn btn-primary text-secondary-light w-lg-50",onClick:o[0]||(o[0]=(...h)=>s.deleteConfirm&&s.deleteConfirm(...h))}," 確認刪除 "),Q])])])],512)}const W=A(S,[["render",q]]);const{VITE_APP_URL:z,VITE_APP_PATH:H}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"week3dean",BASE_URL:"/iiincookie-vue/",MODE:"production",DEV:!1,PROD:!0},J={data(){return{isOpen:!1,showFavorites:!1,showCart:!1,deleteAllModalFavorites:null,deleteAllModalCart:null}},components:{DeleteAllModal:W},methods:{...M(x,["getCartList","addToCart","deleteCartItem","addNum","decreaseNum"]),...M(C,["removeFavorite"]),openDeleteAllModalFavorites(){this.$refs.deleteAllModalFavorites.show(),console.log("這是刪除收藏品項的")},openDeleteAllModalCart(){this.$refs.deleteAllModalCart.show(),console.log("這是刪除購物車品項的")},clearFavorites(){localStorage.clear("myFavoriteList"),this.myFavoriteList.value=[],this.myFavoriteList.splice(0,this.myFavoriteList.length),_.fire({icon:"success",title:"已刪除全部收藏品項"}),this.$refs.deleteAllModalFavorites.hide()},deleteAllCartItem(){this.$http.delete(`${z}/api/${H}/carts`).then(()=>{_.fire({icon:"success",title:"已刪除全部品項"}),this.$refs.deleteAllModalCart.hide(),this.getCartList()}).catch(l=>{_.fire({icon:"error",title:`${l.response.data.message}`})})},toggleFavorites(){this.showFavorites=!this.showFavorites},toggleCart(){this.showCart=!this.showCart},toggleMenu(){this.isOpen=!this.isOpen,this.navMotion.reversed(!this.navMotion.reversed())},showBg1(){this.$refs.bg1.style.display="block",this.$refs.bg1.classList.add("show")},hideBg1(){this.$refs.bg1.style.display="none"},showBg2(){this.$refs.bg2.style.display="block",this.$refs.bg2.classList.add("show")},hideBg2(){this.$refs.bg2.style.display="none"},showBg3(){this.$refs.bg3.style.display="block",this.$refs.bg3.classList.add("show")},hideBg3(){this.$refs.bg3.style.display="none"},scrollToTop(){window.scrollTo({top:0,behavior:"smooth",block:"start",inline:"nearest",duration:2e3})}},computed:{...k(x,["cartList","totalQty"]),...k(C,["myFavoriteList"])},watch:{myFavoriteList:{handler(){localStorage.setItem("myFavoriteList",JSON.stringify(this.myFavoriteList))},deep:!0}},mounted(){this.getCartList(),this.deleteAllModalFavorites=new v(this.$refs.deleteAllModalFavorites.$el),this.deleteAllModalCart=new v(this.$refs.deleteAllModalCart.$el),this.navMotion=j.timeline({paused:!0}),this.navMotion.to(".menu",{duration:1,width:"100%",ease:"expo.in"}),this.navMotion.from(".menu ul li",{duration:1,y:20,opacity:0,ease:"expo.inOut",stagger:.1,display:"none"}),this.navMotion.to(".images",{duration:1,width:"45%",ease:"expo.inOut",delay:-1},"-=1"),this.navMotion.reverse()}},X={class:"d-flex justify-content-between align-items-center mb-6"},Y=e("i",{class:"bi bi-chevron-left fs-xl"},null,-1),G=e("p",null,"返回",-1),K=[Y,G],Z=e("h3",{class:"font-serifTc fs-2xl pb-6 border-bottom border-dark border-opacity-40"}," 收藏品項 ",-1),I={key:0,class:"d-flex justify-content-center align-items-center h-80 flex-column gap-5"},$=e("p",null,"目前尚無任何收藏項目",-1),ee=e("button",{class:"btn btn-primary text-light"},"去看看好吃的！",-1),te={class:"d-flex py-7 gap-3 border-bottom border-dark border-opacity-40"},se=["src"],oe={class:"w-100 d-flex flex-column justify-content-between"},le={class:"d-flex justify-content-between align-items-center"},ie={class:"fs-md-lg font-serifTc"},ne=["onClick"],ae={class:"d-flex justify-content-between align-items-end"},de={class:"font-arimo"},re=["onClick"],ce={class:"position-relative h-100"},ue={class:"p-5 py-7 p-lg-7 pb-0"},ge={class:"d-flex justify-content-between align-items-center mb-6"},fe=e("i",{class:"bi bi-chevron-left fs-xl"},null,-1),me=e("p",null,"返回",-1),he=[fe,me],pe=e("h3",{class:"font-serifTc fs-2xl pb-6 border-bottom border-dark border-opacity-40"}," 購物車預覽 ",-1),be={key:0,class:"d-flex justify-content-center align-items-center h-80 flex-column gap-5"},_e=e("p",null,"目前購物車上無產品",-1),ve=e("button",{class:"btn btn-primary text-light"},"去看看好吃的！",-1),ye={class:"overflow-y-auto h-100 pb-17 px-5 px-lg-7"},we={class:"d-flex py-7 gap-3 border-bottom border-dark border-opacity-10"},xe=["src"],Ce={class:"w-100 d-flex flex-column justify-content-between"},Me={class:"d-flex justify-content-between align-items-start font-serifTc fs-md-lg"},ke=["onClick","disabled"],Ae={class:"d-flex justify-content-between align-items-end"},Fe={class:"font-arimo"},Te={class:"count d-flex justify-content-between border border-dark border-opacity-40"},Le=["onClick"],Be=e("i",{class:"bi bi-dash-lg"},null,-1),De=[Be],je=["onUpdate:modelValue"],Ne=["onClick"],Se=e("i",{class:"bi bi-plus-lg"},null,-1),Pe=[Se],Ve={class:"d-flex justify-content-between align-items-center position-absolute w-100 bg-secondary bottom-0 start-0 p-5 py-7 p-lg-7 border-top border-dark border-opacity-40"},Oe=e("div",null,[e("p",null,"總金額"),e("p",null,"NTD 400")],-1),Ee=e("button",{class:"btn btn-primary text-light"},"前往結帳",-1),Re={class:"container-fluid d-flex w-100 justify-content-between align-items-center position-fixed top-0 left-0 z-3 py-7 px-7"},Ue=e("img",{class:"logo",src:N,alt:"餅乾生產餡"},null,-1),Qe={class:"d-flex align-items-center gap-5"},qe=e("i",{class:"bi bi-bag fs-xl fs-md-2xl"},null,-1),We={key:0,class:"badge bg-primary text-light position-absolute top-0 start-100 translate-middle"},ze={class:"position-relative"},He={class:"images"},Je={ref:"bg1",class:"bg bg1 hide"},Xe={ref:"bg2",class:"bg bg2 hide"},Ye={ref:"bg3",class:"bg bg3 hide"},Ge={class:"menu"},Ke={class:"d-flex flex-column gap-14"},Ze=e("p",{class:"fs-6xl fs-md-7xl fs-lg-8xl font-english lh-sm"},"ABOUT",-1),Ie=e("p",{class:"fs-2xl font-serifTc fw-medium"},"關於我們",-1),$e=[Ze,Ie],et=e("p",{class:"fs-6xl fs-md-7xl fs-lg-8xl font-english lh-sm"},"NEWS",-1),tt=e("p",{class:"fs-2xl font-serifTc fw-medium"},"最新消息",-1),st=[et,tt],ot={class:"footer mt-auto bg-secondary-dark container-fluid py-10"},lt={class:"d-flex justify-content-between align-items-center"},it=e("div",{class:"d-flex gap-8"},[e("p",{class:"font-english"},"© 2023 iiincookie"),e("a",{class:"font-english",href:"https://www.instagram.com/iiin.cookies/",target:"_blank"}," instagram ")],-1);function nt(l,o,y,F,c,s){const h=p("DeleteAllModal"),d=p("RouterLink"),T=p("RouterView");return i(),n(b,null,[a(h,{ref:"deleteAllModalFavorites",message:"請問你要刪除收藏列表中全部商品嗎？",onDeleteConfirm:s.clearFavorites},null,8,["onDeleteConfirm"]),a(h,{ref:"deleteAllModalCart",message:"請問你要刪除購物車中全部商品嗎？",onDeleteConfirm:s.deleteAllCartItem},null,8,["onDeleteConfirm"]),e("div",null,[e("div",{class:g(["offCanvas-favorite w-100 w-md-80 w-lg-50 px-5 p-7 overflow-y-auto",{open:c.showFavorites}])},[e("div",X,[e("div",{class:"d-flex align-items-center gap-2 cursor-pointer",onClick:o[0]||(o[0]=(...t)=>s.toggleFavorites&&s.toggleFavorites(...t))},K),l.myFavoriteList.length>0?(i(),n("button",{key:0,class:"btn btn-outline-dark rounded-0 py-1 px-2 text-opacity-50 border-opacity-50",onClick:o[1]||(o[1]=(...t)=>s.openDeleteAllModalFavorites&&s.openDeleteAllModalFavorites(...t))}," 清除全部 ")):m("",!0)]),Z,l.myFavoriteList.length===0?(i(),n("div",I,[$,a(d,{to:"/products"},{default:r(()=>[ee]),_:1})])):m("",!0),e("ul",null,[(i(!0),n(b,null,w(l.myFavoriteList,(t,u)=>(i(),n("li",{key:t.id},[e("div",te,[e("img",{class:"w-20n",src:t.imageUrl,alt:""},null,8,se),e("div",oe,[e("div",le,[e("p",ie,f(t.title),1),e("i",{class:"bi bi-x-lg fs-lg fs-md-xl cursor-pointer",onClick:L=>l.removeFavorite(u)},null,8,ne)]),e("div",ae,[e("p",de,"NT$ "+f(t.price),1),e("i",{class:"bi bi-bag fs-xl fs-md-xl cursor-pointer",onClick:L=>l.addToCart(t.id)},null,8,re)])])])]))),128))])],2),e("div",{class:g(["overlay",{open:c.showFavorites}]),onClick:o[2]||(o[2]=(...t)=>s.toggleFavorites&&s.toggleFavorites(...t))},null,2)]),e("div",{class:g(["offCanvas-cart w-100 w-md-80 w-lg-50",{open:c.showCart}])},[e("div",ce,[e("div",ue,[e("div",ge,[e("div",{class:"d-flex align-items-center gap-2 cursor-pointer",onClick:o[3]||(o[3]=(...t)=>s.toggleCart&&s.toggleCart(...t))},he),l.totalQty>0?(i(),n("button",{key:0,class:"btn btn-outline-dark rounded-0 py-1 px-2 text-opacity-50 border-opacity-50",onClick:o[4]||(o[4]=(...t)=>s.openDeleteAllModalCart&&s.openDeleteAllModalCart(...t))}," 清除全部 ")):m("",!0)]),pe]),l.totalQty===0?(i(),n("div",be,[_e,a(d,{to:"/products"},{default:r(()=>[ve]),_:1})])):m("",!0),e("ul",ye,[(i(!0),n(b,null,w(l.cartList.carts,t=>(i(),n("li",{key:t.id},[e("div",we,[e("img",{class:"w-20n",src:t.product.imageUrl,alt:""},null,8,xe),e("div",Ce,[e("div",Me,[e("p",null,f(t.product.title),1),e("i",{class:"bi bi-x-lg fs-lg fs-md-xl cursor-pointer",onClick:u=>l.deleteCartItem(t),disabled:t.id===l.loadingItem},null,8,ke)]),e("div",Ae,[e("p",Fe,"NT$ "+f(t.product.price),1),e("div",Te,[e("button",{onClick:u=>l.decreaseNum(t),class:g(["btn rounded-0 py-1 px-2",{disabled:t.qty==1,"border-0":t.qty===1}])},De,10,Le),B(e("input",{class:"text-center bg-secondary border-0 w-8n w-lg-12n",type:"number","onUpdate:modelValue":u=>t.qty=u,readonly:""},null,8,je),[[D,t.qty]]),e("button",{class:"btn rounded-0 py-1 px-2",onClick:u=>l.addNum(t)},Pe,8,Ne)])])])])]))),128))]),e("div",Ve,[Oe,a(d,{to:"/cart"},{default:r(()=>[Ee]),_:1})])])],2),e("div",{class:g(["overlay",{open:c.showCart}]),onClick:o[5]||(o[5]=(...t)=>s.toggleCart&&s.toggleCart(...t))},null,2),e("div",{class:g(["menu-btn",{open:c.isOpen}]),onClick:o[6]||(o[6]=(...t)=>s.toggleMenu&&s.toggleMenu(...t))},null,2),e("div",Re,[a(d,{to:"/",exact:"",native:""},{default:r(()=>[Ue]),_:1}),e("div",Qe,[e("i",{class:"bi bi-heart fs-xl fs-md-2xl",onClick:o[7]||(o[7]=(...t)=>s.toggleFavorites&&s.toggleFavorites(...t))}),e("div",{class:"position-relative",onClick:o[8]||(o[8]=(...t)=>s.toggleCart&&s.toggleCart(...t))},[qe,l.totalQty>0?(i(),n("span",We,f(l.totalQty),1)):m("",!0)])])]),e("div",ze,[e("div",He,[e("span",Je,null,512),e("span",Xe,null,512),e("span",Ye,null,512)]),e("div",Ge,[e("ul",Ke,[a(d,{to:"/about"},{default:r(()=>[e("li",{onMouseenter:o[9]||(o[9]=(...t)=>s.showBg1&&s.showBg1(...t)),onMouseleave:o[10]||(o[10]=(...t)=>s.hideBg1&&s.hideBg1(...t)),onClick:o[11]||(o[11]=(...t)=>s.toggleMenu&&s.toggleMenu(...t))},$e,32)]),_:1}),a(d,{to:"/products",class:"menu-item-2"},{default:r(()=>[e("li",{onMouseenter:o[14]||(o[14]=(...t)=>s.showBg2&&s.showBg2(...t)),onMouseleave:o[15]||(o[15]=(...t)=>s.hideBg2&&s.hideBg2(...t))},[e("p",{class:"fs-6xl fs-md-7xl fs-lg-8xl font-english lh-sm",onClick:o[12]||(o[12]=(...t)=>s.toggleMenu&&s.toggleMenu(...t))}," PRODUCTS "),e("p",{class:"fs-2xl font-serifTc fw-medium",onClick:o[13]||(o[13]=(...t)=>s.toggleMenu&&s.toggleMenu(...t))}," 產品ㄧ覽 ")],32)]),_:1}),a(d,{to:"/articles",class:"menu-item-3"},{default:r(()=>[e("li",{onMouseenter:o[16]||(o[16]=(...t)=>s.showBg3&&s.showBg3(...t)),onMouseleave:o[17]||(o[17]=(...t)=>s.hideBg3&&s.hideBg3(...t)),onClick:o[18]||(o[18]=(...t)=>s.toggleMenu&&s.toggleMenu(...t))},st,32)]),_:1})])])]),e("main",null,[a(T)]),e("footer",ot,[e("div",lt,[it,e("p",{onClick:o[19]||(o[19]=(...t)=>s.scrollToTop&&s.scrollToTop(...t))},"To Top")])])],64)}const Lt=A(J,[["render",nt]]);export{Lt as default};
