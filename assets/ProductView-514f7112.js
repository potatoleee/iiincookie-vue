import{A as C,S as D,a as I}from"./swiper-fce122d8.js";import{aN as u,aD as r,X as c,a4 as p,Y as t,F as m,aL as f,a_ as l,bm as S,bd as A,bk as _,as as y,U as V}from"./@vue-9b9f1f8d.js";import{L as q}from"./LoadingComponent-cdcd4a3d.js";import{g as h}from"./gsap-8fc7659c.js";import{S as g}from"./split-type-cdcb87fd.js";import{c as B}from"./cartStore-062fedc0.js";import{f as E}from"./favoriteStore-8d4f6693.js";import{m as w}from"./pinia-a2ec2acd.js";import{_ as F}from"./index-93eedd4e.js";import"./ssr-window-c9202916.js";import"./logo-ec0194c9.js";import"./axios-bff3f665.js";import"./toast-1797c5ef.js";import"./sweetalert2-2726e422.js";import"./@ckeditor-f5fb1894.js";import"./vue-cfa7fbc0.js";import"./loadingStore-76618adb.js";import"./vue-demi-71ba0ef2.js";import"./vue-router-feb1a2d6.js";import"./aos-dcf01651.js";import"./vue-axios-58a7c26f.js";import"./vue-loading-overlay-7a4b91db.js";import"./vee-validate-aa5cd44a.js";import"./@vee-validate-533577de.js";/* empty css                        */h.registerPlugin(g);const{VITE_APP_URL:v,VITE_APP_PATH:k}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"week3dean",BASE_URL:"/iiincookie-vue/",MODE:"production",DEV:!1,PROD:!0},N={data(){return{product:{},activeIndex:0,images:[],qty:1,productList:[],modules:[C],routeID:"",isLoading:!0}},components:{Swiper:D,SwiperSlide:I,LoadingComponent:q},methods:{...w(E,["toggleFavorite","isFavorite"]),getProduct(i){this.$http.get(`${v}/api/${k}/product/${i}`).then(o=>{console.log(this.product),this.product=o.data.product,this.images=this.product.imagesUrl,console.log(this.product)})},getProductList(){this.isLoading=!0,this.$http.get(`${v}/api/${k}/products/all`).then(i=>{this.productList=i.data.products,console.log(this.productList)}).catch(i=>{alert(i.data.message)}).finally(()=>{this.isLoading=!1})},switchImage(i){this.activeIndex=i},addQty(){this.qty++},decreaseQty(){this.qty>1&&this.qty--},...w(B,["addToCart","addNum","decreaseNum"])},computed:{id(){return this.$route.params.id}},watch:{id(i){this.routeID=i,this.$route.name==="product"&&this.getProduct(this.routeID)}},mounted(){const i=this.$refs.splitProductDetail,o=this.$refs.splitProductDetailCh;new g(i),new g(o),o.querySelectorAll(".line").forEach(a=>{a.style.textAlign="end"}),this.$nextTick(()=>{h.fromTo(o.querySelectorAll(".char"),{y:0,opacity:0},{y:0,x:0,opacity:1,stagger:.05,delay:1,duration:.2}),h.fromTo(i.querySelectorAll(".char"),{y:0,opacity:0},{y:0,x:0,opacity:1,stagger:.05,delay:1,duration:.2});const a=document.querySelectorAll(".mask-bg");h.to(a,{duration:1,width:"0%",ease:"power3.inOut"})}),this.routeID=this.$route.params.id,this.getProduct(this.routeID),this.getProductList()}},U={class:"title my-10 my-lg-15"},Q={class:"title-sub fs-10xl fw-light font-english text-secondary text-opacity-50 d-block text-end",ref:"splitProductDetail"},R={class:"title-main font-serifTc fw-black fs-xl fs-lg-3xl",ref:"splitProductDetailCh"},O={class:"container my-md-13 my-10"},j={class:"justify-content-center"},H={class:"mb-10"},M={class:"row"},z={class:"col-1 d-none d-lg-block"},W={class:"d-flex flex-column gap-6"},X=["onClick"],Y=["src"],G={class:"col-lg-6 mb-7 mb-lg-0"},J={class:"product__img"},K=["src"],Z={class:"d-lg-none mb-7"},$={class:"d-flex gap-6"},tt=["onClick"],st=["src"],et={class:"col-lg-5 d-flex flex-column justify-content-between"},ot={class:"fs-2xl fw-semiBold fs-xl font-serifTc fw-4 mb-2"},it={class:"fs-sm font-serifTc text-dark text-opacity-70 mb-6"},rt={class:"fs-xl pb-6 mb-6 text-dark font-arimo border-bottom border-dark border-opacity-20 font-serifTc"},lt={class:"mb-6"},ct={class:"d-flex gap-6 mb-8"},dt={class:"count border border-secondary-dark d-flex justify-content-between w-100"},nt=t("i",{class:"bi bi-dash-lg"},null,-1),at=[nt],ut=t("i",{class:"bi bi-plus-lg"},null,-1),pt=[ut],mt={class:"d-flex align-items-center border border-secondary-dark px-3"},_t={class:"row justify-content-lg-end"},ht={class:"col-12 col-lg-5"},ft=t("div",{class:"w-100 h-1 bg-dark bg-opacity-20 mb-6"},null,-1),gt=t("p",{class:"fw-medium mb-6"},"詳細資訊",-1),bt={class:"table mb-6"},yt=t("tr",null,[t("th",{class:"border-0 fw-regular ps-0 fs-sm",width:"120"},"重量"),t("td",{class:"border-0 fs-sm"},"250+-5g")],-1),wt=t("th",{class:"border-0 fw-regular ps-0 fs-sm",width:"120"},"內容物",-1),vt={class:"border-0 fs-sm"},kt=t("th",{class:"border-0 fw-regular ps-0 fs-sm",width:"120"},"口味",-1),xt={class:"border-0 fs-sm"},Pt=t("tr",null,[t("th",{class:"border-0 fw-regular ps-0 fs-sm",width:"120"}," 配送方式 "),t("td",{class:"border-0 fs-sm"},"宅配、自取")],-1),Lt=t("tr",null,[t("th",{class:"border-0 fw-regular ps-0 fs-sm",width:"120"}," 賞味期限 "),t("td",{class:"border-0 fs-sm"},"30天")],-1),Tt=t("tr",null,[t("th",{class:"border-0 fw-regular ps-0 fs-sm",width:"120"}," 保存方式 "),t("td",{class:"border-0 fs-sm"},"天氣高溫時放於冰箱")],-1),Ct=t("div",{class:"text-center mb-8"},[t("div",{class:"w-100 h-1 bg-dark bg-opacity-20 mb-8"}),t("p",{class:"font-english fs-2xl fs-lg-3xl"},"Other products"),t("p",{class:"fw-medium font-serifTc fs-lg fs-lg-xl"},"其他商品")],-1),Dt={class:"mb-16"},It=["src"],St={class:"fw-medium mb-2 font-serifTc"},At={class:"fs-sm fw-medium mb-2 font-serifTc text-dark text-opacity-80"},Vt={class:"font-serifTc"},qt=t("div",{class:"d-flex gap-1"},[t("div",null,[t("div",{class:"w-2n h-2n bg-secondary-light border-dark border mb-1"}),t("div",{class:"w-2n h-2n bg-secondary-light border-dark border"})]),t("div",null,[t("div",{class:"w-2n h-2n bg-secondary-light border-dark border mb-1"}),t("div",{class:"w-2n h-2n bg-secondary-light border-dark border"})])],-1),Bt=t("p",{class:"fs-2xl font-english"},"Back To List",-1);function Et(i,o,a,Ft,s,n){const x=u("LoadingComponent"),b=u("RouterLink"),P=u("swiper-slide"),L=u("swiper");return r(),c(m,null,[p(x,{isLoading:s.isLoading},null,8,["isLoading"]),t("div",U,[t("span",Q,"Product Detail ",512),t("h2",R," 產品細節 ",512)]),t("div",O,[t("div",j,[t("div",H,[t("div",M,[t("div",z,[t("ul",W,[(r(!0),c(m,null,f(s.images,(e,d)=>(r(),c("li",{key:d,onClick:T=>n.switchImage(d),class:y(["opacity-75",{"opacity-100":d===s.activeIndex}])},[t("img",{src:e,alt:""},null,8,Y)],10,X))),128))])]),t("div",G,[t("div",J,[t("img",{src:s.images[s.activeIndex],alt:""},null,8,K)])]),t("div",Z,[t("ul",$,[(r(!0),c(m,null,f(s.images,(e,d)=>(r(),c("li",{key:d,onClick:T=>n.switchImage(d),class:y(["opacity-75 w-20",{"opacity-100":d===s.activeIndex}])},[t("img",{src:e,alt:""},null,8,st)],10,tt))),128))])]),t("div",et,[t("div",null,[t("h1",ot,l(s.product.title),1),t("p",it,l(s.product.flavor),1),t("p",rt," NT$ "+l(s.product.price),1),t("p",lt,l(s.product.description),1)]),t("div",null,[t("div",ct,[t("div",dt,[t("button",{class:"btn rounded-0",onClick:o[0]||(o[0]=(...e)=>n.decreaseQty&&n.decreaseQty(...e))},at),S(t("input",{class:"text-center bg-secondary-light w-80 border-0 text-dark",type:"number",min:"1","onUpdate:modelValue":o[1]||(o[1]=e=>s.qty=e),readonly:""},null,512),[[A,s.qty]]),t("button",{class:"btn rounded-0",onClick:o[2]||(o[2]=(...e)=>n.addQty&&n.addQty(...e))},pt)]),t("div",mt,[i.isFavorite(s.product)?(r(),c("i",{key:0,class:"bi bi-heart-fill text-primary",onClick:o[3]||(o[3]=e=>i.toggleFavorite(s.product))})):(r(),c("i",{key:1,class:"bi bi-heart text-dark",onClick:o[4]||(o[4]=e=>i.toggleFavorite(s.product))}))])]),t("div",null,[t("button",{type:"button",class:"btn btn-primary text-secondary-light w-100 py-4 rounded-0 letter-spacing-2",onClick:o[5]||(o[5]=e=>i.addToCart(s.product.id,s.qty))}," 加入購物車 ")])])])])])]),t("div",_t,[t("div",ht,[ft,gt,t("table",bt,[t("tbody",null,[yt,t("tr",null,[wt,t("td",vt,l(s.product.content),1)]),t("tr",null,[kt,t("td",xt,l(s.product.flavor),1)]),Pt,Lt,Tt])])])]),Ct,t("div",Dt,[p(L,{"slides-per-view":1,autoplay:{delay:2500,disableOnInteraction:!1},loop:!0,"space-between":50,modules:s.modules,breakpoints:{768:{slidesPerView:2,spaceBetween:24},992:{slidesPerView:3,spaceBetween:24}}},{default:_(()=>[(r(!0),c(m,null,f(s.productList,e=>(r(),V(P,{key:e.id},{default:_(()=>[p(b,{to:`/product/${e.id}`,class:"mb-7"},{default:_(()=>[t("img",{src:e.imageUrl,alt:""},null,8,It)]),_:2},1032,["to"]),t("p",St,l(e.title),1),t("p",At,l(e.flavor),1),t("p",Vt,"NT$ "+l(e.price),1)]),_:2},1024))),128))]),_:1},8,["modules"])]),t("div",null,[p(b,{to:"/products",class:"d-flex flex-row-reverse align-items-center gap-5"},{default:_(()=>[qt,Bt]),_:1})])])],64)}const ds=F(N,[["render",Et]]);export{ds as default};
