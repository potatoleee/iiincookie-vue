import{R as u}from"./vue-router-feb1a2d6.js";import{T as a}from"./toast-ba4829f6.js";import{aN as p,aD as h,X as _,Y as e,a4 as t,bk as i,bp as f,a3 as r}from"./@vue-9b9f1f8d.js";import{_ as k}from"./logo-ec0194c9.js";import{_ as $}from"./index-102b8124.js";import"./sweetalert2-761b07dd.js";import"./@ckeditor-34cd5b3f.js";import"./vue-d45f05e8.js";import"./pinia-a2ec2acd.js";import"./vue-demi-71ba0ef2.js";import"./axios-bff3f665.js";import"./vue-axios-58a7c26f.js";import"./vue-loading-overlay-89c4fdf0.js";import"./vee-validate-aa5cd44a.js";import"./@vee-validate-533577de.js";/* empty css                        */import"./gsap-8fc7659c.js";const{VITE_APP_URL:d}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"week3dean",BASE_URL:"/iiincookie-vue/",MODE:"production",DEV:!1,PROD:!0},x={methods:{logout(){this.$http.post(`${d}/logout`).then(()=>{document.cookie=`hexToken=; expires=${new Date};`,a.fire({icon:"success",title:"token 已清除 已登出"}),this.$router.push("/login")})},checkAdmin(){const n=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=n,this.$http.post(`${d}/api/user/check`).then(o=>{console.log(o),a.fire({icon:"success",title:"登入成功"})}).catch(o=>{a.fire({icon:"error",title:`${o.response.data.message}`}),this.$router.push("/login")})}},mounted(){this.checkAdmin()},components:{RouterView:u}},g={class:"d-flex"},v={class:"bg-secondary h-100vh p-7 dashboard-nav"},R={class:"d-flex flex-column align-items-start gap-9"},V=e("img",{src:k,alt:""},null,-1),T={class:"dashboard-content p-7 px-10"};function A(n,o,P,w,E,c){const s=p("RouterLink"),m=p("RouterView");return h(),_("div",g,[e("div",v,[e("nav",R,[V,t(s,{to:"/admin/products",class:"fs-1"},{default:i(()=>[r("產品管理")]),_:1}),t(s,{to:"/admin/orders"},{default:i(()=>[r("訂單管理")]),_:1}),t(s,{to:"/admin/coupons"},{default:i(()=>[r("優惠券管理")]),_:1}),t(s,{to:"/admin/articles"},{default:i(()=>[r("文章管理")]),_:1}),e("a",{href:"#",onClick:o[0]||(o[0]=f((...l)=>c.logout&&c.logout(...l),["prevent"]))},"登出")])]),e("div",T,[t(m)])])}const q=$(x,[["render",A]]);export{q as default};
