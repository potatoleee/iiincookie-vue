import{c as u}from"./cartStore-1098eebc.js";import{l as k}from"./loadingStore-cfb944cc.js";import{m as f,a as p}from"./pinia-a2ec2acd.js";import{aN as _,aD as o,X as n,a4 as m,Y as t,W as h,F as C,aL as L,a_ as a,bk as v,au as x,as as N,bm as $,bd as V,a3 as b}from"./@vue-9b9f1f8d.js";import{_ as T}from"./index-066f465a.js";import"./axios-bff3f665.js";import"./toast-ba4829f6.js";import"./sweetalert2-761b07dd.js";import"./@ckeditor-34cd5b3f.js";import"./vue-d45f05e8.js";import"./vue-demi-71ba0ef2.js";import"./vue-router-feb1a2d6.js";import"./vue-axios-58a7c26f.js";import"./vue-loading-overlay-89c4fdf0.js";import"./vee-validate-aa5cd44a.js";import"./@vee-validate-533577de.js";/* empty css                        */import"./gsap-8fc7659c.js";const S={data(){return{productListData:[],productId:"",loadingItem:""}},methods:{...f(u,["getCartList","deleteCartItem","updateCartItem","deleteAllCartItem","addNum","decreaseNum"])},computed:{...p(u,["cartList"]),...p(k,["isLoading"])},mounted(){this.getCartList(),console.log(this.isLoading)}},w={class:"container"},D={key:0,class:"text-end"},U={class:"table align-middle"},q=t("thead",null,[t("tr",null,[t("th",null,"品項"),t("th",{class:"text-center"},"單價"),t("th",{class:"text-center"},"數量"),t("th",{class:"text-center"},"小計"),t("th")])],-1),z={key:0},A={class:"d-flex align-items-center gap-2"},B={class:"mb-0"},F={class:"mb-0"},j={class:"text-center"},E={class:"count d-flex justify-content-center"},M=["onClick"],W=["onUpdate:modelValue"],X=["onClick"],Y={class:"text-center"},G={class:"text-end"},H=["onClick","disabled"],J={key:0,class:"fas fa-spinner fa-pulse"},K={key:1},O=t("tr",null,[t("td",{colspan:"5",class:"text-center"},"目前購物車沒有商品")],-1),P=[O],Q=t("td",{colspan:"4",class:"text-end"},"總計",-1),R={class:"text-end"},Z=t("td",{colspan:"4",class:"text-end text-success"},"折扣價",-1),I={class:"text-end text-success"};function tt(s,d,et,st,r,ot){var l,c;const g=_("VueLoading"),y=_("router-link");return o(),n("div",w,[m(g,{active:s.isLoading,"onUpdate:active":d[0]||(d[0]=e=>s.isLoading=e)},null,8,["active"]),((l=s.cartList.carts)==null?void 0:l.length)>0?(o(),n("div",D,[t("button",{class:"btn btn-outline-danger",type:"button",onClick:d[1]||(d[1]=e=>s.deleteAllCartItem())}," 清空購物車 ")])):h("",!0),t("table",U,[q,((c=s.cartList.carts)==null?void 0:c.length)>0?(o(),n("tbody",z,[(o(!0),n(C,null,L(s.cartList.carts,e=>(o(),n("tr",{key:e.id},[t("td",A,[t("div",{alt:"",style:x([{width:"100px",height:"100px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${e.product.imageUrl})`}])},null,4),t("div",null,[t("p",B,a(e.product.title),1),t("p",F,"NT$ "+a(e.product.price),1)])]),t("td",j,"NT$ "+a(e.product.price),1),t("td",null,[t("div",E,[t("button",{onClick:i=>s.decreaseNum(e),class:N(["btn btn-secondary-light border border-secondary-dark rounded-0",{disabled:e.qty==1}])}," - ",10,M),$(t("input",{class:"text-center bg-secondary-light border-0",type:"number","onUpdate:modelValue":i=>e.qty=i,readonly:""},null,8,W),[[V,e.qty]]),t("button",{class:"btn btn-secondary-light border border-secondary-dark rounded-0",onClick:i=>s.addNum(e)}," + ",8,X)])]),t("td",Y,"NT$ "+a(e.total),1),t("td",G,[t("button",{type:"button",class:"btn",onClick:i=>s.deleteCartItem(e),disabled:e.id===r.loadingItem},[e.id===r.loadingItem?(o(),n("i",J)):h("",!0),b(" x ")],8,H)])]))),128))])):(o(),n("tbody",K,P)),t("tfoot",null,[t("tr",null,[Q,t("td",R,"NT$ "+a(s.cartList.total),1)]),t("tr",null,[Z,t("td",I,"NT$ "+a(s.cartList.final_total),1)])])]),m(y,{to:"/order",class:"btn btn-primary"},{default:v(()=>[b("去買單")]),_:1})])}const Lt=T(S,[["render",tt]]);export{Lt as default};
