import{A as L,S as P,a as T}from"./swiper-fce122d8.js";import{aN as a,aD as r,X as d,a4 as m,Y as t,F as u,aL as _,a_ as l,bm as I,bd as C,bk as p,as as f,U as D}from"./@vue-9b9f1f8d.js";import{L as V}from"./LoadingComponent-2919fae5.js";import{b as A}from"./vue-router-feb1a2d6.js";import{c as B}from"./cartStore-062fedc0.js";import{f as E}from"./favoriteStore-8d4f6693.js";import{m as b}from"./pinia-a2ec2acd.js";import{_ as S}from"./index-c034beb6.js";import"./ssr-window-c9202916.js";import"./logo-ec0194c9.js";import"./axios-bff3f665.js";import"./toast-1797c5ef.js";import"./sweetalert2-2726e422.js";import"./@ckeditor-f5fb1894.js";import"./vue-cfa7fbc0.js";import"./loadingStore-76618adb.js";import"./vue-demi-71ba0ef2.js";import"./aos-dcf01651.js";import"./vue-axios-58a7c26f.js";import"./vue-loading-overlay-7a4b91db.js";import"./vee-validate-aa5cd44a.js";import"./@vee-validate-533577de.js";/* empty css                        */import"./gsap-8fc7659c.js";const{VITE_APP_URL:g,VITE_APP_PATH:v}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"week3dean",BASE_URL:"/iiincookie-vue/",MODE:"production",DEV:!1,PROD:!0},q={data(){return{product:{},activeIndex:0,images:[],qty:1,productList:[],modules:[L],routeID:"",isLoading:!0}},components:{Swiper:P,SwiperSlide:T,RouterLink:A,LoadingComponent:V},methods:{...b(E,["toggleFavorite","isFavorite"]),getProduct(o){this.$http.get(`${g}/api/${v}/product/${o}`).then(i=>{console.log(this.product),this.product=i.data.product,this.images=this.product.imagesUrl,console.log(this.product)})},getProductList(){this.isLoading=!0,this.$http.get(`${g}/api/${v}/products/all`).then(o=>{this.productList=o.data.products,console.log(this.productList)}).catch(o=>{alert(o.data.message)}).finally(()=>{this.isLoading=!1})},switchImage(o){this.activeIndex=o},addQty(){this.qty++},decreaseQty(){this.qty>1&&this.qty--},...b(B,["addToCart","addNum","decreaseNum"])},computed:{id(){return this.$route.params.id}},watch:{id(o){this.routeID=o,this.$route.name==="product"&&this.getProduct(this.routeID)}},mounted(){this.routeID=this.$route.params.id,this.getProduct(this.routeID),this.getProductList()}},F=t("div",{class:"title my-10 my-lg-15"},[t("span",{class:"title-sub fs-10xl fw-light font-english text-secondary text-opacity-50 d-block text-end"},"Product Detail "),t("h2",{class:"title-main font-serifTc fw-black fs-xl fs-lg-3xl"},"產品細節")],-1),N={class:"container my-md-13 my-10"},R={class:"justify-content-center"},U={class:"mb-10"},Q={class:"row"},j={class:"col-1 d-none d-lg-block"},O={class:"d-flex flex-column gap-6"},H=["onClick"],M=["src"],z={class:"col-lg-6 mb-7 mb-lg-0"},X={class:"product__img"},Y=["src"],G={class:"d-lg-none mb-7"},J={class:"d-flex gap-6"},K=["onClick"],W=["src"],Z={class:"col-lg-5 d-flex flex-column justify-content-between"},$={class:"fs-2xl fw-semiBold fs-xl font-serifTc fw-4 mb-2"},tt={class:"fs-sm font-serifTc text-dark text-opacity-70 mb-6"},st={class:"fs-xl pb-6 mb-6 text-dark font-arimo border-bottom border-dark border-opacity-20 font-serifTc"},et={class:"mb-6"},ot={class:"d-flex gap-6 mb-8"},it={class:"count border border-secondary-dark d-flex justify-content-between w-100"},rt=t("i",{class:"bi bi-dash-lg"},null,-1),lt=[rt],dt=t("i",{class:"bi bi-plus-lg"},null,-1),ct=[dt],nt={class:"d-flex align-items-center border border-secondary-dark px-3"},at={class:"row justify-content-lg-end"},mt={class:"col-12 col-lg-5"},ut=t("div",{class:"w-100 h-1 bg-dark bg-opacity-20 mb-6"},null,-1),pt=t("p",{class:"fw-medium mb-6"},"詳細資訊",-1),_t={class:"table mb-6"},ht=t("tr",null,[t("th",{class:"border-0 fw-regular ps-0 fs-sm",width:"120"},"重量"),t("td",{class:"border-0 fs-sm"},"250+-5g")],-1),ft=t("th",{class:"border-0 fw-regular ps-0 fs-sm",width:"120"},"內容物",-1),bt={class:"border-0 fs-sm"},gt=t("th",{class:"border-0 fw-regular ps-0 fs-sm",width:"120"},"口味",-1),vt={class:"border-0 fs-sm"},yt=t("tr",null,[t("th",{class:"border-0 fw-regular ps-0 fs-sm",width:"120"}," 配送方式 "),t("td",{class:"border-0 fs-sm"},"宅配、自取")],-1),wt=t("tr",null,[t("th",{class:"border-0 fw-regular ps-0 fs-sm",width:"120"}," 賞味期限 "),t("td",{class:"border-0 fs-sm"},"30天")],-1),kt=t("tr",null,[t("th",{class:"border-0 fw-regular ps-0 fs-sm",width:"120"}," 保存方式 "),t("td",{class:"border-0 fs-sm"},"天氣高溫時放於冰箱")],-1),xt=t("div",{class:"text-center mb-8"},[t("div",{class:"w-100 h-1 bg-dark bg-opacity-20 mb-8"}),t("p",{class:"font-english fs-2xl fs-lg-3xl"},"Other products"),t("p",{class:"fw-medium font-serifTc fs-lg fs-lg-xl"},"其他商品")],-1),Lt={class:"mb-16"},Pt=["src"],Tt={class:"fw-medium mb-2 font-serifTc"},It={class:"fs-sm fw-medium mb-2 font-serifTc text-dark text-opacity-80"},Ct={class:"font-serifTc"},Dt=t("div",{class:"d-flex gap-1"},[t("div",null,[t("div",{class:"w-2n h-2n bg-secondary-light border-dark border mb-1"}),t("div",{class:"w-2n h-2n bg-secondary-light border-dark border"})]),t("div",null,[t("div",{class:"w-2n h-2n bg-secondary-light border-dark border mb-1"}),t("div",{class:"w-2n h-2n bg-secondary-light border-dark border"})])],-1),Vt=t("p",{class:"fs-2xl font-english"},"Back To List",-1);function At(o,i,Bt,Et,s,n){const y=a("LoadingComponent"),h=a("RouterLink"),w=a("swiper-slide"),k=a("swiper");return r(),d(u,null,[m(y,{isLoading:s.isLoading},null,8,["isLoading"]),F,t("div",N,[t("div",R,[t("div",U,[t("div",Q,[t("div",j,[t("ul",O,[(r(!0),d(u,null,_(s.images,(e,c)=>(r(),d("li",{key:c,onClick:x=>n.switchImage(c),class:f(["opacity-75",{"opacity-100":c===s.activeIndex}])},[t("img",{src:e,alt:""},null,8,M)],10,H))),128))])]),t("div",z,[t("div",X,[t("img",{src:s.images[s.activeIndex],alt:""},null,8,Y)])]),t("div",G,[t("ul",J,[(r(!0),d(u,null,_(s.images,(e,c)=>(r(),d("li",{key:c,onClick:x=>n.switchImage(c),class:f(["opacity-75 w-20",{"opacity-100":c===s.activeIndex}])},[t("img",{src:e,alt:""},null,8,W)],10,K))),128))])]),t("div",Z,[t("div",null,[t("h1",$,l(s.product.title),1),t("p",tt,l(s.product.flavor),1),t("p",st," NT$ "+l(s.product.price),1),t("p",et,l(s.product.description),1)]),t("div",null,[t("div",ot,[t("div",it,[t("button",{class:"btn rounded-0",onClick:i[0]||(i[0]=(...e)=>n.decreaseQty&&n.decreaseQty(...e))},lt),I(t("input",{class:"text-center bg-secondary-light w-80 border-0 text-dark",type:"number",min:"1","onUpdate:modelValue":i[1]||(i[1]=e=>s.qty=e),readonly:""},null,512),[[C,s.qty]]),t("button",{class:"btn rounded-0",onClick:i[2]||(i[2]=(...e)=>n.addQty&&n.addQty(...e))},ct)]),t("div",nt,[o.isFavorite(s.product)?(r(),d("i",{key:0,class:"bi bi-heart-fill text-primary",onClick:i[3]||(i[3]=e=>o.toggleFavorite(s.product))})):(r(),d("i",{key:1,class:"bi bi-heart text-dark",onClick:i[4]||(i[4]=e=>o.toggleFavorite(s.product))}))])]),t("div",null,[t("button",{type:"button",class:"btn btn-primary text-secondary-light w-100 py-4 rounded-0 letter-spacing-2",onClick:i[5]||(i[5]=e=>o.addToCart(s.product.id,s.qty))}," 加入購物車 ")])])])])])]),t("div",at,[t("div",mt,[ut,pt,t("table",_t,[t("tbody",null,[ht,t("tr",null,[ft,t("td",bt,l(s.product.content),1)]),t("tr",null,[gt,t("td",vt,l(s.product.flavor),1)]),yt,wt,kt])])])]),xt,t("div",Lt,[m(k,{"slides-per-view":1,autoplay:{delay:2500,disableOnInteraction:!1},loop:!0,"space-between":50,modules:s.modules,breakpoints:{768:{slidesPerView:2,spaceBetween:24},992:{slidesPerView:3,spaceBetween:24}}},{default:p(()=>[(r(!0),d(u,null,_(s.productList,e=>(r(),D(w,{key:e.id},{default:p(()=>[m(h,{to:`/product/${e.id}`,class:"mb-7"},{default:p(()=>[t("img",{src:e.imageUrl,alt:""},null,8,Pt)]),_:2},1032,["to"]),t("p",Tt,l(e.title),1),t("p",It,l(e.flavor),1),t("p",Ct,"NT$ "+l(e.price),1)]),_:2},1024))),128))]),_:1},8,["modules"])]),t("div",null,[m(h,{to:"/products",class:"d-flex flex-row-reverse align-items-center gap-5"},{default:p(()=>[Dt,Vt]),_:1})])])],64)}const is=S(q,[["render",At]]);export{is as default};
