import{c as d}from"./cartStore-df922902.js";import{f as r}from"./favoriteStore-61913d83.js";import{l as g}from"./loadingStore-cfb944cc.js";import{m as l,a as c}from"./pinia-a2ec2acd.js";import{_ as h}from"./index-922ebb09.js";import{aN as u,aD as m,X as f,a4 as L,F as y,Y as e}from"./@vue-9b9f1f8d.js";import"./axios-bff3f665.js";import"./toast-ba4829f6.js";import"./sweetalert2-761b07dd.js";import"./@ckeditor-34cd5b3f.js";import"./vue-d45f05e8.js";import"./vue-demi-71ba0ef2.js";import"./vue-router-feb1a2d6.js";import"./vue-axios-58a7c26f.js";import"./vue-loading-overlay-89c4fdf0.js";import"./vee-validate-aa5cd44a.js";import"./@vee-validate-533577de.js";/* empty css                        */import"./gsap-8fc7659c.js";const{VITE_APP_URL:s,VITE_APP_PATH:i}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"week3dean",BASE_URL:"/iiincookie-vue/",MODE:"production",DEV:!1,PROD:!0},P={data(){return{productList:[],page:{},selectCategoryList:[],selectCategory:"",nowCategory:"",allProducts:[]}},methods:{getProductList(t=1){this.isLoading=!0,this.$http.get(`${s}/api/${i}/products/?page=${t}`).then(o=>{this.productList=o.data.products,this.page=o.data.pagination,console.log(this.page),console.log(o.data)}).catch(o=>{alert(o.data.message)}).finally(()=>{this.isLoading=!1})},getAllProducts(){this.isLoading=!0,this.$http.get(`${s}/api/${i}/products/all`).then(t=>{console.log(t.data.products),this.allProducts=t.data.products}).catch(t=>{alert(t.data.message)}).finally(()=>{this.isLoading=!1})},getCategory(t,o=1){this.isLoading=!0,this.$http.get(`${s}/api/${i}/products?page=${o}&category=${t}`).then(a=>{console.log("相似類別全部",a.data.products),this.selectCategoryList=a.data.products,this.page=a.data.pagination,this.nowCategory=this.page.category,console.log(this.nowCategory),console.log(this.page),console.log(this.page.category),console.log(a),this.$router.push(`./products?page=${o}&category=${t}`)}).catch(a=>{alert(a.data.message)}).finally(()=>{this.isLoading=!1})},...l(d,["addToCart"]),...l(r,["removeFavorite","toggleFavorite","isFavorite"])},computed:{...c(g,["isLoading","loadingItem"]),...c(r,["myFavoriteList"]),filterProduct(){return this.productList.filter(t=>t.title.match(this.search))},categoryProducts(){return this.allProducts.filter(t=>t.category.match(this.selectCategory))}}},$=e("div",{class:"title py-lg-15"},[e("span",{class:"title-sub fs-10xl fw-light font-english text-secondary text-opacity-50 d-block text-end"},"All Products "),e("h1",{class:"title-main font-serifTc fw-black fs-xl fs-lg-3xl"},"商品ㄧ覽")],-1);function _(t,o,a,v,A,C){const n=u("VueLoading");return m(),f(y,null,[L(n,{active:t.isLoading,"onUpdate:active":o[0]||(o[0]=p=>t.isLoading=p)},null,8,["active"]),$],64)}const Y=h(P,[["render",_]]);export{Y as default};
