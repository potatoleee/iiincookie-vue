import{T as l}from"./toast-1797c5ef.js";import{l as d}from"./loadingStore-e394031f.js";import{a as f}from"./pinia-a78a79b1.js";import{_ as g}from"./index-cfd485d4.js";import{aN as u,aD as p,X as c,a4 as _,Y as a,W as h,F as P}from"./@vue-9b9f1f8d.js";const{VITE_APP_URL:L,VITE_APP_PATH:U}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"week3dean",BASE_URL:"/iiincookie-vue/",MODE:"production",DEV:!1,PROD:!0},V={data(){return{imageUrl:"",isLoading:!1}},methods:{upload(n){const e=n.target.files[0];let t=e.name.substring(e.name.lastIndexOf(".")+1);if(t!=="jpg"&&t!=="JPG"&&t!=="png"){alert("上傳檔案只能是 jpg、png 格式!，請注意格式上傳呦");return}const s=new FormData;s.append("file-to-upload",e),this.isLoading=!0,this.$http.post(`${L}/api/${U}/admin/upload`,s).then(o=>{this.imageUrl=o.data.imageUrl,l.fire({icon:"success",title:"圖片上傳成功"})}).catch(o=>{l.fire({icon:"error",title:`${o.response.data.message}`})}).finally(()=>{this.isLoading=!1})}},computed:{...f(d,["isLoading"])}},T={class:"mt-4"},v=a("h2",{class:"fs-xl"},"圖片上傳區",-1),E=a("label",{for:"file",class:"mb-2"},"圖片檔案僅接受 jpg、png 格式，感謝配合～",-1),A=["href"];function k(n,e,t,s,o,r){const m=u("VueLoading");return p(),c(P,null,[_(m,{active:o.isLoading,"onUpdate:active":e[0]||(e[0]=i=>o.isLoading=i)},null,8,["active"]),a("div",T,[v,E,a("input",{type:"file",class:"form-control mb-2",id:"file",placeholder:"請輸入圖片連結",onChange:e[1]||(e[1]=(...i)=>r.upload&&r.upload(...i))},null,32),o.imageUrl?(p(),c("a",{key:0,href:o.imageUrl,target:"_blank"},"上傳的圖片連結(右鍵可複製網址)",8,A)):h("",!0)])],64)}const B=g(V,[["render",k]]);export{B as U};
