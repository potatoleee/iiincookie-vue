import{T as l}from"./toast-1797c5ef.js";import{_ as m}from"./index-fb29566b.js";import{aN as f,aD as p,X as c,a4 as g,Y as a,W as u,F as _}from"./@vue-9b9f1f8d.js";const{VITE_APP_URL:h,VITE_APP_PATH:P}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"week3dean",BASE_URL:"/iiincookie-vue/",MODE:"production",DEV:!1,PROD:!0},U={data(){return{imageUrl:"",isLoading:!1}},methods:{upload(n){const e=n.target.files[0];let o=e.name.substring(e.name.lastIndexOf(".")+1);if(o!=="jpg"&&o!=="JPG"&&o!=="png"){alert("上傳檔案只能是 jpg、png 格式!，請注意格式上傳呦");return}const s=new FormData;s.append("file-to-upload",e),this.isLoading=!0,this.$http.post(`${h}/api/${P}/admin/upload`,s).then(t=>{this.imageUrl=t.data.imageUrl,l.fire({icon:"success",title:"圖片上傳成功"})}).catch(t=>{l.fire({icon:"error",title:`${t.response.data.message}`})}).finally(()=>{this.isLoading=!1})}}},L={class:"mt-4"},V=a("h2",{class:"fs-xl"},"圖片上傳區",-1),T=a("label",{for:"file",class:"mb-2"},"圖片檔案僅接受 jpg、png 格式，感謝配合～",-1),v=["href"];function E(n,e,o,s,t,r){const d=f("VueLoading");return p(),c(_,null,[g(d,{active:t.isLoading,"onUpdate:active":e[0]||(e[0]=i=>t.isLoading=i)},null,8,["active"]),a("div",L,[V,T,a("input",{type:"file",class:"form-control mb-2",id:"file",placeholder:"請輸入圖片連結",onChange:e[1]||(e[1]=(...i)=>r.upload&&r.upload(...i))},null,32),t.imageUrl?(p(),c("a",{key:0,href:t.imageUrl,target:"_blank"},"上傳的圖片連結(右鍵可複製網址)",8,v)):u("",!0)])],64)}const D=m(U,[["render",E]]);export{D as U};
