import{b as g}from"./vue-router-878122eb.js";import{P as f}from"./PaginationComponent-f1eebe93.js";import{c as h}from"./cartStore-af7d758c.js";import{l as b}from"./loadingStore-22cd12f0.js";import{m as y,a as P}from"./pinia-6b383ae9.js";import{_ as L}from"./index-49abc74b.js";import{aN as a,aD as i,U as n,a2 as r,W as t,F as d,aL as x,a0 as k,bk as v,a_ as l,a1 as V,Q as T}from"./@vue-01f76383.js";import"./axios-bff3f665.js";import"./toast-6c8cb593.js";import"./sweetalert2-aca7abf3.js";import"./@ckeditor-75295a52.js";import"./vue-00609181.js";import"./vue-demi-71ba0ef2.js";import"./vue-axios-58a7c26f.js";import"./vue-loading-overlay-449b88b9.js";import"./vee-validate-939181b4.js";import"./@vee-validate-533577de.js";/* empty css                        */import"./gsap-8fc7659c.js";const{VITE_APP_URL:C,VITE_APP_PATH:A}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"week3dean",BASE_URL:"/iiincookie-vue/",MODE:"production",DEV:!1,PROD:!0},w={data(){return{productList:[],page:{},search:""}},methods:{getProductList(s=1){this.isLoading=!0,this.$http.get(`${C}/api/${A}/products/?page=${s}`).then(o=>{this.productList=o.data.products,this.page=o.data.pagination,console.log(this.page)}).catch(o=>{alert(o.data.message)}).finally(()=>{this.isLoading=!1})},...y(h,["addToCart"])},computed:{...P(b,["isLoading","loadingItem"]),filterProduct(){return this.productList.filter(s=>s.title.match(this.search))}},mounted(){this.getProductList()},components:{RouterLink:g,PaginationComponent:f}},E=t("div",{class:"title py-lg-15"},[t("span",{class:"title-sub fs-10xl fw-light font-english text-secondary text-opacity-50 d-block text-end"},"All Products "),t("h1",{class:"title-main font-serifTc fw-black fs-xl fs-lg-3xl"},"商品ㄧ覽")],-1),I={class:"container"},S={class:"row justify-content-center"},$={class:"col-md-11"},N=k('<div class="d-flex align-items-center justify-content-center justify-content-md-start py-10 border-top border-bottom border-secondary mb-15"><h3 class="fs-sm fs-md-base d-none d-md-block me-12">商品類別</h3><ul class="d-flex gap-7 justify-content-center"><li class="fs-sm fs-md-base py-2 px-8 bg-secondary-light border border-secondary-dark rounded-pill"> 全部 </li><li class="fs-sm fs-md-base py-2 px-8 bg-secondary-light border border-secondary-dark rounded-pill"> 餅乾 </li><li class="fs-sm fs-md-base py-2 px-8 bg-secondary-light border border-secondary-dark rounded-pill"> 布丁 </li></ul></div>',1),R={class:"row gy-13"},U=["src"],j={class:"font-serifTc fs-base mb-4 text-center letterSpace-2"},D={class:"font-serifTc fs-base mb-4 text-center letterSpace-2"},B=["onClick"],F={key:0,class:"spinner-border text-light spinner-border-sm",role:"status"},G=t("span",{class:"sr-only"},null,-1),H=[G],O={class:"container d-flex justify-content-center"};function M(s,o,Q,W,c,p){const m=a("VueLoading"),u=a("RouterLink"),_=a("PaginationComponent");return i(),n(d,null,[r(m,{active:s.isLoading,"onUpdate:active":o[0]||(o[0]=e=>s.isLoading=e)},null,8,["active"]),E,t("div",I,[t("div",S,[t("div",$,[N,t("ul",R,[(i(!0),n(d,null,x(c.productList,e=>(i(),n("li",{class:"col-6 col-lg-4 d-flex flex-column align-items-center",key:e.id},[r(u,{to:`/product/${e.id}`,class:"mb-6"},{default:v(()=>[t("img",{src:e.imageUrl,alt:""},null,8,U)]),_:2},1032,["to"]),t("h2",j,l(e.title),1),t("p",D," NT$ "+l(e.price),1),t("button",{type:"button",class:"btn btn-primary text-secondary-light rounded-0",onClick:q=>s.addToCart(e.id)},[V(" 加入購物車 "),e.id===s.loadingItem?(i(),n("div",F,H)):T("",!0)],8,B)]))),128))])])])]),t("div",O,[r(_,{pageIn:c.page,onGetPages:p.getProductList},null,8,["pageIn","onGetPages"])])],64)}const ut=L(w,[["render",M]]);export{ut as default};
