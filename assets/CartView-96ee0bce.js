import{c as u}from"./cartStore-af7d758c.js";import{l as k}from"./loadingStore-22cd12f0.js";import{m as f,a as p}from"./pinia-6b383ae9.js";import{aN as _,aD as o,U as n,a2 as m,W as t,Q as h,F as C,aL as L,a_ as a,bk as v,as as x,aq as N,bm as $,bd as V,a1 as b}from"./@vue-01f76383.js";import{_ as T}from"./index-e53fdbfd.js";import"./axios-bff3f665.js";import"./toast-6c8cb593.js";import"./sweetalert2-aca7abf3.js";import"./@ckeditor-75295a52.js";import"./vue-00609181.js";import"./vue-demi-71ba0ef2.js";import"./vue-router-878122eb.js";import"./vue-axios-58a7c26f.js";import"./vue-loading-overlay-449b88b9.js";import"./vee-validate-939181b4.js";import"./@vee-validate-533577de.js";/* empty css                        */import"./gsap-8fc7659c.js";const S={data(){return{productListData:[],productId:"",loadingItem:""}},methods:{...f(u,["getCartList","deleteCartItem","updateCartItem","deleteAllCartItem","addNum","decreaseNum"])},computed:{...p(u,["cartList"]),...p(k,["isLoading"])},mounted(){this.getCartList(),console.log(this.isLoading)}},U={class:"container"},q={key:0,class:"text-end"},w={class:"table align-middle"},D=t("thead",null,[t("tr",null,[t("th",null,"品項"),t("th",{class:"text-center"},"單價"),t("th",{class:"text-center"},"數量"),t("th",{class:"text-center"},"小計"),t("th")])],-1),z={key:0},A={class:"d-flex align-items-center gap-2"},B={class:"mb-0"},F={class:"mb-0"},j={class:"text-center"},E={class:"count d-flex justify-content-center"},M=["onClick"],Q=["onUpdate:modelValue"],W=["onClick"],G={class:"text-center"},H={class:"text-end"},J=["onClick","disabled"],K={key:0,class:"fas fa-spinner fa-pulse"},O={key:1},P=t("tr",null,[t("td",{colspan:"5",class:"text-center"},"目前購物車沒有商品")],-1),R=[P],X=t("td",{colspan:"4",class:"text-end"},"總計",-1),Y={class:"text-end"},Z=t("td",{colspan:"4",class:"text-end text-success"},"折扣價",-1),I={class:"text-end text-success"};function tt(s,d,et,st,r,ot){var l,c;const g=_("VueLoading"),y=_("router-link");return o(),n("div",U,[m(g,{active:s.isLoading,"onUpdate:active":d[0]||(d[0]=e=>s.isLoading=e)},null,8,["active"]),((l=s.cartList.carts)==null?void 0:l.length)>0?(o(),n("div",q,[t("button",{class:"btn btn-outline-danger",type:"button",onClick:d[1]||(d[1]=e=>s.deleteAllCartItem())}," 清空購物車 ")])):h("",!0),t("table",w,[D,((c=s.cartList.carts)==null?void 0:c.length)>0?(o(),n("tbody",z,[(o(!0),n(C,null,L(s.cartList.carts,e=>(o(),n("tr",{key:e.id},[t("td",A,[t("div",{alt:"",style:x([{width:"100px",height:"100px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${e.product.imageUrl})`}])},null,4),t("div",null,[t("p",B,a(e.product.title),1),t("p",F,"NT$ "+a(e.product.price),1)])]),t("td",j,"NT$ "+a(e.product.price),1),t("td",null,[t("div",E,[t("button",{onClick:i=>s.decreaseNum(e),class:N(["btn btn-secondary-light border border-secondary-dark rounded-0",{disabled:e.qty==1}])}," - ",10,M),$(t("input",{class:"text-center bg-secondary-light border-0",type:"number","onUpdate:modelValue":i=>e.qty=i,readonly:""},null,8,Q),[[V,e.qty]]),t("button",{class:"btn btn-secondary-light border border-secondary-dark rounded-0",onClick:i=>s.addNum(e)}," + ",8,W)])]),t("td",G,"NT$ "+a(e.total),1),t("td",H,[t("button",{type:"button",class:"btn",onClick:i=>s.deleteCartItem(e),disabled:e.id===r.loadingItem},[e.id===r.loadingItem?(o(),n("i",K)):h("",!0),b(" x ")],8,J)])]))),128))])):(o(),n("tbody",O,R)),t("tfoot",null,[t("tr",null,[X,t("td",Y,"NT$ "+a(s.cartList.total),1)]),t("tr",null,[Z,t("td",I,"NT$ "+a(s.cartList.final_total),1)])])]),m(y,{to:"/order",class:"btn btn-primary"},{default:v(()=>[b("去買單")]),_:1})])}const Lt=T(S,[["render",tt]]);export{Lt as default};
