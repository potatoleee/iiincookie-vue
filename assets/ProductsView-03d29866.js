import{_ as m,m as h,a as f,R as L,r as n,o as i,c as a,d as c,b as t,F as d,i as P,w as v,t as l}from"./index-e5a8a112.js";import{P as T}from"./PaginationComponent-bbf81011.js";import{c as k,l as V}from"./cartStore-007996da.js";import"./sweetalert2.all-90158e2b.js";const{VITE_APP_URL:C,VITE_APP_PATH:x}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"week3dean",BASE_URL:"/iiincookie-vue/",MODE:"production",DEV:!1,PROD:!0},y={data(){return{productList:[],page:{}}},methods:{getProductList(s=1){this.isLoading=!0,this.$http.get(`${C}/api/${x}/products/?page=${s}`).then(o=>{this.productList=o.data.products,this.page=o.data.pagination,console.log(this.page)}).catch(o=>{alert(o.data.message)}).finally(()=>{this.isLoading=!1})},...h(k,["addToCart"])},computed:{...f(V,["isLoading"])},mounted(){this.getProductList(),console.log(this.isLoading)},components:{RouterLink:L,PaginationComponent:T}},A={class:"container"},E={class:"row justify-content-center"},R={class:"col-12 col-md-10"},$={class:"row gy-6"},b=["src"],S={class:"font-serifTc fs-6 fs-md-5 mb-4 text-center letterSpace-2"},w={class:"font-serifTc mb-4 text-center letterSpace-4"},I=["onClick"],U={class:"container d-flex justify-content-center"};function B(s,o,D,N,r,p){const u=n("VueLoading"),_=n("RouterLink"),g=n("PaginationComponent");return i(),a(d,null,[c(u,{active:s.isLoading,"onUpdate:active":o[0]||(o[0]=e=>s.isLoading=e)},null,8,["active"]),t("div",A,[t("div",E,[t("div",R,[t("ul",$,[(i(!0),a(d,null,P(r.productList,e=>(i(),a("li",{class:"col-6 col-lg-4 px-md-6 d-flex flex-column align-items-center",key:e.id},[c(_,{to:`/product/${e.id}`},{default:v(()=>[t("img",{class:"rounded-2 img-fluid",src:e.imageUrl,alt:""},null,8,b)]),_:2},1032,["to"]),t("h3",S,l(e.title),1),t("p",w," NT$ "+l(e.price),1),t("button",{type:"button",class:"btn btn-primary",onClick:j=>s.addToCart(e.id)}," 加入購物車 ",8,I)]))),128))])])])]),t("div",U,[c(g,{pageIn:r.page,getProductList:p.getProductList},null,8,["pageIn","getProductList"])])],64)}const q=m(y,[["render",B]]);export{q as default};
