import{T as n}from"./toast-94376381.js";import{_ as m}from"./index-43ae0ebb.js";import{aN as f,aD as c,X as p,a4 as g,Y as a,W as u,F as _}from"./@vue-9b9f1f8d.js";const{VITE_APP_URL:h,VITE_APP_PATH:P}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"week3dean",BASE_URL:"/iiincookie-vue/",MODE:"production",DEV:!1,PROD:!0},U={data(){return{imageUrl:"",isLoading:!1}},methods:{upload(r){const e=r.target.files[0];let t=e.name.substring(e.name.lastIndexOf(".")+1);if(t!=="jpg"&&t!=="JPG"&&t!=="png"){n.fire({icon:"error",title:"上傳檔案只能是 jpg、png 格式!，請注意格式上傳呦"});return}const s=new FormData;s.append("file-to-upload",e),this.isLoading=!0,this.$http.post(`${h}/api/${P}/admin/upload`,s).then(o=>{this.imageUrl=o.data.imageUrl,n.fire({icon:"success",title:"圖片上傳成功"}),this.isLoading=!1}).catch(o=>{n.fire({icon:"error",title:`${o.response.data.message}`})})}}},L={class:"mt-4"},V=a("h2",{class:"fs-xl"},"圖片上傳區",-1),T=a("label",{for:"file",class:"mb-2"},"圖片檔案僅接受 jpg、png 格式，感謝配合～",-1),v=["href"];function E(r,e,t,s,o,l){const d=f("VueLoading");return c(),p(_,null,[g(d,{active:o.isLoading,"onUpdate:active":e[0]||(e[0]=i=>o.isLoading=i)},null,8,["active"]),a("div",L,[V,T,a("input",{type:"file",class:"form-control mb-2",id:"file",placeholder:"請輸入圖片連結",onChange:e[1]||(e[1]=(...i)=>l.upload&&l.upload(...i))},null,32),o.imageUrl?(c(),p("a",{key:0,href:o.imageUrl,target:"_blank"},"上傳的圖片連結(右鍵可複製網址)",8,v)):u("",!0)])],64)}const D=m(U,[["render",E]]);export{D as U};
