import{T as l}from"./toast-ba4829f6.js";import{l as c}from"./loadingStore-cfb944cc.js";import{a as f}from"./pinia-a2ec2acd.js";import{_ as g}from"./index-26d9a145.js";import{aN as u,aD as p,X as d,a4 as _,Y as s,W as h,F as P}from"./@vue-9b9f1f8d.js";const{VITE_APP_URL:U,VITE_APP_PATH:L}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"week3dean",BASE_URL:"/iiincookie-vue/",MODE:"production",DEV:!1,PROD:!0},V={data(){return{imageUrl:""}},methods:{upload(o){const e=o.target.files[0];let t=e.name.substring(e.name.lastIndexOf(".")+1);if(t!=="jpg"&&t!=="JPG"&&t!=="png"){alert("上傳檔案只能是 jpg、png 格式!，請注意格式上傳呦");return}const i=new FormData;i.append("file-to-upload",e),this.isLoading=!0,this.$http.post(`${U}/api/${L}/admin/upload`,i).then(a=>{this.imageUrl=a.data.imageUrl,l.fire({icon:"success",title:"圖片上傳成功"})}).catch(a=>{l.fire({icon:"error",title:`${a.response.data.message}`})}).finally(()=>{this.isLoading=!1})}},computed:{...f(c,["isLoading"])}},T={class:"mt-4"},v=s("h2",{class:"fs-xl"},"圖片上傳區",-1),E=s("label",{for:"file",class:"mb-2"},"圖片檔案僅接受 jpg、png 格式，感謝配合～",-1),A=["href"];function k(o,e,t,i,a,r){const m=u("VueLoading");return p(),d(P,null,[_(m,{active:o.isLoading,"onUpdate:active":e[0]||(e[0]=n=>o.isLoading=n)},null,8,["active"]),s("div",T,[v,E,s("input",{type:"file",class:"form-control mb-2",id:"file",placeholder:"請輸入圖片連結",onChange:e[1]||(e[1]=(...n)=>r.upload&&r.upload(...n))},null,32),a.imageUrl?(p(),d("a",{key:0,href:a.imageUrl,target:"_blank"},"上傳的圖片連結(右鍵可複製網址)",8,A)):h("",!0)])],64)}const B=g(V,[["render",k]]);export{B as U};
