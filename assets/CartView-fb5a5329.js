import{c as p,l as C}from"./cartStore-3dff3f42.js";import{m as L,a as u}from"./pinia-6b383ae9.js";import{aN as _,aD as o,U as n,a2 as m,W as t,Q as h,F as g,aL as b,a_ as i,bk as y,as as x,bm as N,bc as $,a1 as v}from"./@vue-01f76383.js";import{_ as V}from"./index-00af039d.js";import"./axios-bff3f665.js";import"./sweetalert2-aca7abf3.js";import"./@ckeditor-75295a52.js";import"./vue-00609181.js";import"./vue-demi-71ba0ef2.js";import"./vue-router-878122eb.js";import"./vue-axios-58a7c26f.js";import"./vue-loading-overlay-449b88b9.js";import"./vee-validate-939181b4.js";import"./@vee-validate-533577de.js";/* empty css                        */import"./gsap-8fc7659c.js";const S={data(){return{productListData:[],productId:"",loadingItem:""}},methods:{...L(p,["getCartList","deleteCartItem","updateCartItem","deleteAllCartItem"])},computed:{...u(p,["cartList"]),...u(C,["isLoading"])},mounted(){this.getCartList(),console.log(this.isLoading)}},T={class:"container"},U={key:0,class:"text-end"},w={class:"table align-middle"},D=t("thead",null,[t("tr",null,[t("th",null,"品項"),t("th",{class:"text-center"},"單價"),t("th",{class:"text-center"},"數量"),t("th",{class:"text-center"},"小計"),t("th")])],-1),A={key:0},B={class:"d-flex align-items-center gap-2"},q={class:"mb-0"},z={class:"mb-0"},F={class:"text-center"},E={class:"input-group input-group-sm"},M={class:"input-group mb-3"},Q=["onUpdate:modelValue","onChange","disabled"],W=["value"],j={class:"text-center"},G={class:"text-end"},H=["onClick","disabled"],I={key:0,class:"fas fa-spinner fa-pulse"},J={key:1},K=t("tr",null,[t("td",{colspan:"5",class:"text-center"},"目前購物車沒有商品")],-1),O=[K],P=t("td",{colspan:"4",class:"text-end"},"總計",-1),R={class:"text-end"},X=t("td",{colspan:"4",class:"text-end text-success"},"折扣價",-1),Y={class:"text-end text-success"};function Z(s,l,tt,et,d,st){var r,c;const f=_("VueLoading"),k=_("router-link");return o(),n("div",T,[m(f,{active:s.isLoading,"onUpdate:active":l[0]||(l[0]=e=>s.isLoading=e)},null,8,["active"]),((r=s.cartList.carts)==null?void 0:r.length)>0?(o(),n("div",U,[t("button",{class:"btn btn-outline-danger",type:"button",onClick:l[1]||(l[1]=e=>s.deleteAllCartItem())}," 清空購物車 ")])):h("",!0),t("table",w,[D,((c=s.cartList.carts)==null?void 0:c.length)>0?(o(),n("tbody",A,[(o(!0),n(g,null,b(s.cartList.carts,e=>(o(),n("tr",{key:e.id},[t("td",B,[t("div",{alt:"",style:x([{width:"100px",height:"100px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${e.product.imageUrl})`}])},null,4),t("div",null,[t("p",q,i(e.product.title),1),t("p",z,"NT$ "+i(e.product.price),1)])]),t("td",F,"NT$ "+i(e.product.price),1),t("td",null,[t("div",E,[t("div",M,[N(t("select",{name:"",id:"",class:"form-control","onUpdate:modelValue":a=>e.qty=a,onChange:a=>s.updateCartItem(e),disabled:e.id===d.loadingItem},[(o(),n(g,null,b(25,a=>t("option",{value:a,key:a+"123"},i(a),9,W)),64))],40,Q),[[$,e.qty]])])])]),t("td",j,"NT$ "+i(e.total),1),t("td",G,[t("button",{type:"button",class:"btn",onClick:a=>s.deleteCartItem(e),disabled:e.id===d.loadingItem},[e.id===d.loadingItem?(o(),n("i",I)):h("",!0),v(" x ")],8,H)])]))),128))])):(o(),n("tbody",J,O)),t("tfoot",null,[t("tr",null,[P,t("td",R,"NT$ "+i(s.cartList.total),1)]),t("tr",null,[X,t("td",Y,"NT$ "+i(s.cartList.final_total),1)])])]),m(k,{to:"/order",class:"btn btn-primary"},{default:y(()=>[v("去買單")]),_:1})])}const ft=V(S,[["render",Z]]);export{ft as default};
